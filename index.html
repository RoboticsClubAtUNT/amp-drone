<!doctype html>
<html>
  <head>
    <title>Accelerometer Test</title>
    <script src="/socket.io/socket.io.js"></script>
    <script src="/static/jquery/jquery-2.1.4.min.js"></script>
    <script src="/static/bootstrap/js/bootstrap.js"></script>
    <script src="/static/bootstrap/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="/static/bootstrap/css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="/static/bootstrap/css/bootstrap-social.css">
    <link rel="stylesheet" type="text/css" href="/static/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/static/font-awesome/css/font-awesome.css">
    <link rel="stylesheet" type="text/css" href="/static/theme.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.js"></script>
    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.css">
  </head>
  <body>
    <script>
      var socket = io.connect('http://raspberrypi:3030');  // change to the server IP address

        function orientation(event)
        {
          //Alpha This is a compass 0 = North || 0 - 360
          //socket.emit('alpha', {'alpha': event.alpha});
          console.log("Magnetometer: "
            + event.alpha + ", "
            + event.beta + ", "
            + event.gamma
          );

          //gamma tilt left right Max +-90
          //beta forward / backward tilt +-180
          socket.emit('accel', {'beta': event.beta});
          // {'gamma': event.gamma});
        }

        function getAccel()
        {
            if(window.DeviceOrientationEvent)
           	{
                window.addEventListener("deviceorientation", orientation, false);
            }
           	else
           	{
                socket.emit('notSupported');
                console.log("DeviceOrientationEvent is not supported");
            }
           //console.log('emittedKey ', {'letter': String.fromCharCode(e.charCode)});
           //socket.emit('client_data', {'letter': String.fromCharCode(e.charCode)});
        }

        function autoDrive()
        {
          socket.emit('autoDrive');
        }

    </script>
    <div class="btn-group" role="group" aria-label=". . .">
      <button id="accel" type="button" class="btn btn-default" onclick="getAccel()">Accelerometer</button>
      <button id="auto" type="button" class="btn btn-default" onclick="autoDrive()">Auto Drive</button>
    </div>
  </body>
</html>
